document.addEventListener("DOMContentLoaded",(function(){const e=$.qs("#ra"),t=$.qs("#rf"),r=$.qs("#rn"),c=$.qs("#rr"),n=$.qs("#rh"),o=$.qs("#rp"),a=$.qs("#rl"),l=$.qs("#rc"),u=$.qs("#ro"),s=$.qs("#ru"),i=$.qs("#ri"),d=$.qs("#rs"),p=$.qs("#nk"),m=$.qs("#n_"),S=$.qs("#d"),v=$.qs("#v"),y=$.qs("#h"),g=$.qs("#re"),q=$.qs("#rt"),L=$.qs("#rb"),f=$.qs("#j"),h=$.qsa(".ct"),F=$.qsa(".co"),k=$.qs(".percal__global-cta");function b(){for(const e of h)if(e.checked)return e.value;return null}function E(){const e=b();if(!e)return;F.forEach((t=>{t.hidden=t.getAttribute("data-mode")!==e}));["percent-change","apply-percent-change","percent-difference"].includes(e)?k.style.display="block":k.style.display="none"}function w(r="percent-of"){switch(r){case"percent-of":e.value="",t.value="";break;case"percent-what":n.value="",o.value="";break;case"percent-of-what":u.value="",s.value="";break;case"percent-change":p.value="",m.value="";break;case"apply-percent-change":S.value="",v.value="",y.value="increase";break;case"percent-difference":g.value="",q.value=""}}function x(r="percent-of"){switch(r){case"percent-of":case"percent-what":case"percent-of-what":if(""!==e.value||""!==t.value||""!==n.value||""!==o.value||""!==u.value||""!==s.value)break;$.qs("#rv").classList.add("np");break;case"percent-change":$.qs("#nx").classList.add("np"),$.qs("#nw").classList.add("np");break;case"apply-percent-change":$.qs("#p").classList.add("np");break;case"percent-difference":$.qs("#nq").classList.add("np")}}$.qs("#z").addEventListener("submit",(function(e){e.preventDefault();const t=$.qs("#tp").value;/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(t)?window.location.href="/contact-us.html?email="+encodeURIComponent(t):alert("Please enter a valid email address.")})),E(),h.forEach((e=>{e.addEventListener("change",E)})),r.addEventListener("click",(()=>{!function(e,t){const r=parseFloat(e),c=parseFloat(t),n=parseFloat((r/100*c).toFixed(4));$.qs("#rv").classList.remove("np"),$.qs("#rd").innerHTML=`${r.toLocaleString()}% of ${c.toLocaleString()} is <strong>${n.toLocaleString()}</strong>`}(e.value||0,t.value||0)})),a.addEventListener("click",(()=>{!function(e,t){const r=parseFloat(e),c=parseFloat(t),n=parseFloat((r/c*100).toFixed(4));$.qs("#rv").classList.remove("np"),$.qs("#rd").innerHTML=`${r.toLocaleString()} is <strong>${n.toLocaleString()}%</strong> of ${c.toLocaleString()}`}(n.value||0,o.value||0)})),i.addEventListener("click",(()=>{!function(e,t){const r=parseFloat(e),c=parseFloat(t),n=parseFloat((r/c*100).toFixed(4));$.qs("#rv").classList.remove("np"),$.qs("#rd").innerHTML=`${r.toLocaleString()} is ${c.toLocaleString()}% of <strong>${n.toLocaleString()}</strong>`}(u.value||0,s.value||0)})),f.addEventListener("click",(()=>{const e=b();x(e),"percent-change"===e&&function(e,t){const r=parseFloat(e),c=parseFloat(t);if(0===r)return void $.qs("#nw").classList.remove("np");const n=(c-r)/Math.abs(r)*100,o=parseFloat(n.toFixed(4));$.qs("#nx").classList.remove("np"),$.qs("#nb").innerHTML=`The percent change from ${r.toLocaleString()} to ${c.toLocaleString()} is <strong>${o.toLocaleString()}%</strong>`}(p.value||0,m.value||0),"apply-percent-change"===e&&function(e,t,r="increase"){const c=parseFloat(e),n=parseFloat(t)/100*c;let o=0;o="increase"===r?c+n:c-n;const a=parseFloat(o.toFixed(4)),l=parseFloat(n.toFixed(4));$.qs("#p").classList.remove("np"),$.qs("#c").innerHTML=`<strong>${a.toLocaleString()}</strong>`,$.qs("#l").innerHTML=`<strong>${l.toLocaleString()}</strong>`}(S.value||0,v.value||0,y.value),"percent-difference"===e&&function(e,t){const r=parseFloat(e),c=parseFloat(t),n=Math.abs(r-c),o=n/((r+c)/2)*100,a=parseFloat(n.toFixed(4)),l=parseFloat(o.toFixed(4));$.qs("#nq").classList.remove("np"),$.qs("#nz").innerHTML=`<strong>${l.toLocaleString()}%</strong>`,$.qs("#nj").innerHTML=`<strong>${a.toLocaleString()}</strong>`}(g.value||0,q.value||0)})),c.addEventListener("click",(()=>{w("percent-of"),x("percent-of")})),l.addEventListener("click",(()=>{w("percent-what"),x("percent-what")})),d.addEventListener("click",(()=>{w("percent-of-what"),x("percent-of-what")})),L.addEventListener("click",(()=>{const e=b();w(e),x(e)})),$.qsa(".cm .ti").forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement.querySelector("strong");if(t){const r=t.textContent.trim();navigator.clipboard.writeText(r).then((()=>{const t=e.querySelector(".percal__icon");t.setAttribute("src","/assets/images/0d9ada79.svg"),setTimeout((()=>{t.setAttribute("src","/assets/images/fe864936.svg")}),1e3)})).catch((e=>{alert(`Copy failed: ${e.message}`)}))}}))}))}));